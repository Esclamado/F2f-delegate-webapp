<div class="w-full h-full flex flex-col justify-between relative">
    <!-- header -->
    <div class="w-full p-8 bg-white flex items-center h-80-px custom-bot-shadow relative z-20">

        <img [src]="convo.convo.d2_profile_photo" class="h-50-px w-50-px rounded-full object-cover object-center" alt="">
        <div class=" ml-4 flex flex-col">
            <div class="font-semibold default-text-color text-base flex overflow-hidden justify-between items-center mb-1">{{ convo.convo.company }}</div>
            <span class="gray-text">{{ convo.convo.fullname }}</span>
        </div>
    </div>
    <!-- message body -->
    <div id="message_container" #message_container class="flex-grow w-full p-8 flex flex-col messages-container hide-scroll overflow-y-auto overflow-x-hidden">
        <!-- <div class="essage-card-shadow mr-auto py-3 w-70-px bg-white flex justify-center items-center gap-1 rounded-l-full rounded-r-full">
            <div class="bounce1 w-5-px h-5-px rounded-full bg-gray-700"></div>
            <div class="bounce2 w-5-px h-5-px rounded-full bg-gray-700"></div>
            <div class="bounce3 w-5-px h-5-px rounded-full bg-gray-700"></div>
        </div> -->
        <ng-container *ngIf="message">
            <ng-container *ngFor="let item of message">
                <app-message-card [message]="item"></app-message-card>
            </ng-container>
        </ng-container>
        <div class="flex justify-center gap-2 items-center minh-50-px  mt-4 ">
            <!-- <div class="flex gap-2 items-center justify-center" >
                <div class="bounce1 w-5-px h-5-px rounded-full bg-gray-700"></div>
                <div class="bounce2 w-5-px h-5-px rounded-full bg-gray-700"></div>
                <div class="bounce3 w-5-px h-5-px rounded-full bg-gray-700"></div>
            </div> -->
            <!-- <i *ngIf="message.firstScrollDone && messageLists.data && messageLists.data.length > 0  && !messageLists.next_page"  class="text-gray-700 barlow">No more messages to show.</i> -->
            <!-- <i class="text-gray-700 barlow">You don't have conversation with this user yet.</i> -->

        </div>
    </div>
    <form class="w-full" [formGroup]="messageForm">
        <div class="w-full gap-4 p-8 custom-top-shadow bg-white h-130-px flex items-end  z-20 relative">
            <textarea formControlName="message_content" placeholder="Send a message..." name="" id="" class="placeholder-gray-400 custom-scroll focus:outline-none barlow default-text-color text-lg h-86-px flex-grow"></textarea>
            <style>
                textarea {
                    overflow: auto;
                    overflow-x: hidden;
                }
                
                textarea::-webkit-scrollbar-track {
                    background: #E0E1E1;
                }
                
                textarea::-webkit-scrollbar {
                    width: 8px;
                    background-color: #F5F5F5;
                }
                
                textarea::-webkit-scrollbar-thumb {
                    background: #2a2c30;
                    box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.1);
                }
            </style>
            <!-- (click)="sendMessage()"  -->
            <button class="bg-blue-600  focus:outline-none hover:bg-teal-700 text-white text-lg px-4 py-3 rounded barlow flex items-center gap-2" (click)="sendMessage()">
                <svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M0.25 6.33333L0.258333 0.5L17.75 8L0.258333 15.5L0.25 9.66667L12.75 8L0.25 6.33333ZM1.925 3.025L8.18333 5.70833L1.91667 4.875L1.925 3.025ZM8.175 10.2917L1.91667 12.975V11.125L8.175 10.2917Z"
                        fill="white" />
                </svg>

                <span class="fw-300">Send</span>
            </button>
        </div>
    </form>
</div>